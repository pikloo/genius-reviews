!function(t){"use strict";t(document).ready(function(){const e=t("#gr-load-more");let a=1;if(new URLSearchParams(window.location.search).get("gr-sort")){const e=t(".gr-bloc");e.length&&t("html, body").animate({scrollTop:e.offset().top-100},600)}t(document).on("click",".gr-badge",function(e){e.preventDefault();const a=t(".gr-bloc");a.length&&t("html, body").animate({scrollTop:a.offset().top-100},600)}),e.on("click",function(){a++;const o=t(".gr-tab.gr-tab-active").data("tab")||"products",n=t(`#gr-tab-${o} .gr-grid`),r=n.data("product-id")||0,s=parseInt(e.data("limit"))||12,i=parseInt(e.data("total-products"))||0,c=parseInt(e.data("total-shop"))||0,d="shop"===o?c:i,l=e.data("mode")||"";n.children().length>=d?e.fadeOut():t.post(GR_PUBLIC.ajax,{action:"load_reviews",nonce:GR_PUBLIC.nonce,product_id:r,page:a,limit:s,sort:t("#gr-sort").val(),mode:l},function(a){if(a.success){const o=t(a.data.html).css({opacity:0});n.append(o),o.each(function(e,a){t(a).delay(30*e).animate({opacity:1,top:0},200)});const r=o.first();r.length&&t("html, body").animate({scrollTop:r.offset().top-100},600),(n.children().length>=d||!a.data.has_more)&&e.fadeOut()}})}),t(document).on("click",".gr-tab",function(){const e=t(this),a=e.data("tab");t(".gr-tab").removeClass("gr-tab-active"),e.addClass("gr-tab-active"),t(".gr-tab-content").addClass("hidden"),t(`#gr-tab-${a}`).removeClass("hidden");const o=t("#gr-load-more"),n=(parseInt(o.data("limit")),parseInt(o.data("total-products"))||0),r=parseInt(o.data("total-shop"))||0,s="shop"===a?r:n;t(`#gr-tab-${a} .gr-grid`).children().length>=s?o.fadeOut():o.fadeIn()}),"undefined"!=typeof Swiper&&t(".gr-swiper").length&&t(".gr-swiper").each(function(){const e=t(this);new Swiper(e[0],{slidesPerView:"auto",autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,spaceBetween:30,breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3,spaceBetween:50}},navigation:{nextEl:e.find(".swiper-button-next")[0],prevEl:e.find(".swiper-button-prev")[0]}})}),t(document).on("click",".gr-read-more",function(){const e=t(this),a=e.closest(".gr-excerpt").find(".gr-full-text");a.is(":visible")?(a.hide(),e.text("Voir plus")):(a.show(),e.text("Voir moins"))})})}(jQuery);